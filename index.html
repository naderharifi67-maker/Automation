rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ๐ก UID ุฌูู ุดูุง (nader.harifi67@gmail.com) ฺฉู ุจู ุนููุงู ุงุฏูู ุชุนุฑู ุดุฏู ุงุณุช.
    let adminUid = "v1Ljqk88gJVykzh80uiytdyuTpi2"; 
    
    // ----------------------------------------------------
    // ูุงููู ุฏุณุชุฑุณ ุจู ุฏุงุดุจูุฑุฏ ู ุขูุงุฑ (ุฎูุงูุฏู)
    // ----------------------------------------------------
    
    // ููู ฺฉุงุฑุจุฑุงู ูุงุฑุฏ ุดุฏูุ ุจู ุชูุงู ุฏุงุฏูโูุง ุฏุณุชุฑุณ ุฎูุงูุฏู ุฏุงุฑูุฏ.
    match /{document=**} {
      allow read: if request.auth != null; 
    }
    
    // ----------------------------------------------------
    // ูุงููู ุฏุณุชุฑุณ ุจู ุซุจุช ูููุฏุณ ุฌุฏุฏ ู ุงุฑุฌุงุน ฺฉุงุฑ (ููุดุชู)
    // ----------------------------------------------------
    
    // ฺฉุงูฺฉุดู ูููุฏุณู (ุซุจุช ูููุฏุณ ุฌุฏุฏ)
    match /engineers/{engineerId} {
      // ููุท ุงฺฏุฑ ฺฉุงุฑุจุฑุ ููุงู ุงุฏูู ุจุงุดุฏุ ุงุฌุงุฒู ููุดุชูุ ุงุฌุงุฏ ู ุญุฐู ุฏุงุฑุฏ.
      allow write: if request.auth != null && request.auth.uid == adminUid;
    }
    
    // ฺฉุงูฺฉุดู ูพุฑูฺูโูุง (ุงุฑุฌุงุน ฺฉุงุฑ ุฌุฏุฏ)
    match /projects/{projectId} {
      // ููุท ุงฺฏุฑ ฺฉุงุฑุจุฑุ ููุงู ุงุฏูู ุจุงุดุฏุ ุงุฌุงุฒู ููุดุชูุ ุงุฌุงุฏ ู ุญุฐู ุฏุงุฑุฏ.
      allow write: if request.auth != null && request.auth.uid == adminUid;
    }
  }
}
